{% extends "home.html" %}
{% block title %} Home {% endblock %}
{% block content %}
<section class="content">
  <h1>Live Detection</h1>
  <img title="img" src="{{ url_for('video_feed') }}" width="640" height="480">
  <br>
    <button id="startBtn">Start Camera</button>
    <button id="stopBtn">Stop Camera</button>
</section>
 
  <script>
    const video = document.getElementById('webcam');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    let stream;

    startBtn.onclick = async () => {
      stream = await navigator.mediaDevices.getUserMedia({ video: true });
      video.srcObject = stream;
    };
    stopBtn.onclick = () => {
      if (stream) {
        stream.getTracks().forEach(track => track.stop());
      }
    };
  </script>
  {% endblock %}
